<div class="container">
  <p class="date">{{todaysDate | date:'d/M/y'}}</p>
  
  <div class="waitrForm">
    <label for="totalTip">סה&#34;כ מזומן</label>
    <input style="width:98%" type="number" name="totalTip" id="totalTip" #totalTip ngModel>

    <form (ngSubmit)="addWaitr(f.value)" #f="ngForm">
      <label for="waitrNamae">שם מלצר</label>
      <select id="waitrName" style="display:block;width:100%" name="name" ngModel required>
        <option dir="rtl" [value]="name" *ngFor="let name of workersNames">{{name}}</option>
      </select>
      <div class="lables">
        <label for="startTime">משעה</label>
        <label id="endTimeLable" for="endTime">עד שעה</label>
      </div>

      <input id="endTime" type="time" name="endTime" ngModel required>
      <input id="startTime" type="time" name="startTime" ngModel required>

      <button type="submit" [disabled]="!f.valid">הוסף מלצר</button>
      <button type="button" (click)="calculateTips(totalTip.value)">חשב טיפים</button>
    </form>
  </div>

  <p>{{errorMessaage}}</p>
  
  <div class="loader" *ngIf="loadGif">
    <img class="loader" src="../../../assets/loading2.gif" alt="loading.gif">
  </div>

  <div *ngIf="waitrsStack.length > 0 && !loadGif" class="calculatedTips">
   <div class="tips">
    <table class="tipsTable" dir="rtl">
      <thead>
        <tr>
          <th>שם</th>
          <th>התחלה</th>
          <th>סיום</th>
          <th>סה&#34;כ שעות</th>
          <th>טיפים</th>
          <th>הפרשה 20% למעסיק</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let waitr of waitrsStack; let i = index" (click)="deleteWaitr(i)">
          <td>{{waitr.name}} </td>
        <td>{{waitr.startTime}}</td>
        <td>{{waitr.endTime}}</td>
        <td>{{waitr.totalTime}}</td>
        <td>{{waitr.totalTip}}</td>
        <td>{{waitr.moneyToGoverment}}</td>
      </tr>
      </tbody>
    </table>
  </div>
    <div class="sum" >
        <table dir="rtl">
          <thead>
            <tr>
              <th>סה&#34;	כ שעות</th>
              <th>סה&#34;	כ מזומן</th>
              <th>סה&#34;	כ לשעה</th>
              <th>הפרשה ברמן</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{totalTime}}</td>
              <td>{{totalTip.value - barManTip}}</td>
              <td>{{tipPerHour}}</td>
              <td>{{barManTip > 0?barManTip.toFixed(2):""}}</td>
            </tr>
          </tbody>
        </table>
    </div>
    </div>
  </div>
