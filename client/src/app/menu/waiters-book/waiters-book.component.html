<div class="container">
  <form [formGroup]="calculateTipsForm">
    <mat-vertical-stepper linear #stepper>
      <mat-step label='סה"כ טיפים' [stepControl]="calculateTipsForm">
        <mat-form-field class="example-full-width">
          <input matInput formControlName="totalTips">
          <mat-hint>הזן את כמות הטיפים שעשית/ם במשמרת</mat-hint>
        </mat-form-field>
        <div class="nextButton">
          <button mat-raised-button color="primary" matStepperNext >לשלב הבא</button>
        </div>
      </mat-step>
      <mat-step label="הוסף מלצרים" [stepControl]="calculateTipsForm">
        <mat-form-field>
          <mat-label>בחר שם מלצר</mat-label>
          <mat-select>
            <mat-option *ngFor="let name of workersNames" [value]="name">
              {{name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-label >שעת התחלת משמרת</mat-label>
        <ngx-timepicker-field [format]="24" ></ngx-timepicker-field>
        <mat-label id="endTime">שעת סיום משמרת</mat-label>
        <ngx-timepicker-field [format]="24" ></ngx-timepicker-field>
        <div class="addWaitrButton">
            <button mat-raised-button >הוסף מלצר</button>
        </div>
      </mat-step>
      <mat-step label="חשב טיפים">

      </mat-step>
    </mat-vertical-stepper>
  </form>


  <!-- <p class="date">{{todaysDate | date:'d/M/y'}}</p>
  
  <div class="waitrForm">
    <label for="totalTip">סה&#34;כ מזומן</label>
    <input style="width:98%" type="number" name="totalTip" id="totalTip" #totalTip ngModel>

    <form (ngSubmit)="addWaitr(f.value)" #f="ngForm">
      <label for="waitrNamae">שם מלצר</label>
      <select id="waitrName" style="display:block;width:100%" name="name" ngModel required>
        <option dir="rtl" [value]="name" *ngFor="let name of workersNames">{{name}}</option>
      </select>
      <div class="lables">
        <label for="startTime">משעה</label>
        <label id="endTimeLable" for="endTime">עד שעה</label>
      </div>

      <input id="endTime" type="time" name="endTime" ngModel required>
      <input id="startTime" type="time" name="startTime" ngModel required>

      <button type="submit" [disabled]="!f.valid">הוסף מלצר</button>
      <button type="button" [disabled]="loadGif" (click)="calculateTips(totalTip.value)">חשב טיפים</button>
    </form>
  </div>
  
  <div class="loader" *ngIf="loadGif">
    <img class="loader" src="../../../assets/loading2.gif" alt="loading.gif">
  </div>

  <div *ngIf="waitrsStack.length > 0 && !loadGif" class="calculatedTips">
   <div class="tips">
    <table class="tipsTable" dir="rtl">
      <thead>
        <tr>
          <th>שם</th>
          <th>התחלה</th>
          <th>סיום</th>
          <th>סה&#34;כ שעות</th>
          <th>הפרשה למעסיק</th>
          <th>טיפים אחרי הפרשה למעסיק</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let waitr of waitrsStack; let i = index" (click)="openDialog(i)">
          <td>{{waitr.name}} </td>
        <td>{{waitr.startTime}}</td>
        <td>{{waitr.endTime}}</td>
        <td>{{waitr.totalTime}}</td>
        <td>{{waitr.moneyToGoverment}}</td>
        <td>{{waitr.totalTip}}</td>
      </tr>
      </tbody>
    </table>
  </div>
    <div class="sum" >
        <table dir="rtl">
          <thead>
            <tr>
              <th>סה&#34;	כ שעות</th>
              <th>סה&#34;כ הפרשה למעסיק</th>
              <th>סה&#34;כ לשעה לפני הפרשה למעסיק</th>
              <th>הפרשה 10% לברמן מהסכום {{totalTip.value}}</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{totalTime}}</td>
              <td>{{totalTax}}</td>
              <td>{{tipPerHour}}</td>
              <td>{{barManTip > 0?barManTip.toFixed(2):""}}</td>
            </tr>
          </tbody>
        </table>
    </div>
    </div> -->
</div>
